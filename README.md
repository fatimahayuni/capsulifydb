# CapsulifyDatabase

# Overview
Capsulify is a capsule wardrobe management system where users can create and explore wardrobe combinations (combos) made up of various clothing items. The app allows for searching, tagging, and managing wardrobe combos that consist of tops, bottoms, shoes, bags, layers, and other wardrobe categories. Users can log in, view protected routes, and manage their profile information.

# Collections and Attributes
This section explains the relationships between the key collections (combos, wardrobe, tags, and users) and their attributes.

1. Combos Collection
This collection stores different combinations of wardrobe items, which are curated sets that users can view or save as favorites. Each combo is represented by a name and contains items from different wardrobe categories.

++ Attributes:

_id: Unique identifier for the combo (automatically generated by MongoDB).

comboName: The name of the combo (e.g., "Combo1", "Combo2", etc.).

top: The name of the top used in the combo (from the wardrobe collection).

bottom: The name of the bottom used in the combo.

shoes: The name of the shoes used in the combo.

bag: The name of the bag used in the combo.

layer: The name of the outerwear (optional).

tags: An array of tag references (from the tags collection) to categorize the combo (e.g., "smart casual", "formal").

++ Relationships:

One-to-Many: Each combo consists of one item from multiple wardrobe categories (top, bottom, shoes, etc.).

Many-to-Many: Combos can have multiple tags, and tags can be associated with multiple combos.

2. Wardrobe Collection
The wardrobe collection stores individual wardrobe items that can be part of combos. These items are grouped into categories such as tops, bottoms, shoes, bags, and layers.

++ Categories and Attributes:
top: Stores information about tops, including names like "Black/White Long-Sleeved Top".

bottom: Stores information about bottoms, such as "Black Tailored Pants" or "Casual Skirt".

shoes: Stores different types of shoes like "Black Pumps" or "Nude Wedges".

bag: Stores bag options like "Black Tote" or "Black Clutch".
layer: (Optional) Stores outerwear like "Black Blazer", "Denim Jacket", etc.

++ Relationships:
One-to-Many: Each item (top, bottom, shoes, bag, or layer) can be part of many combos.

3. Tags Collection
Tags are used to categorize combos, allowing users to filter and search based on style, occasion, or other criteria.

++ Attributes:
_id: Unique identifier for the tag.

name: The tag's name (e.g., "smart casual", "workwear", "party").

++ Relationships:
Many-to-Many: A tag can be associated with multiple combos, and a combo can have multiple tags.

4. Users Collection
This collection stores user information, including authentication details and profile information.

++ Attributes:
_id: Unique identifier for the user.

email: The user’s email address (used for authentication).

password: The user’s password (hashed for security).

favorites: (Optional) An array of combo references that the user has marked as favorites.

++ Relationships:
One-to-Many: A user can have multiple favorite combos.

## Relationships Summary
Combo to Wardrobe Items: A combo contains one item from each category (e.g., top, bottom, shoes, etc.), creating a one-to-many relationship between combos and wardrobe items.

Combo to Tags: Combos are associated with one or more tags, and each tag can belong to multiple combos, forming a many-to-many relationship.

User to Combo: A user can mark multiple combos as favorites, forming a one-to-many relationship between users and combos.

## Example Data Structure:
* Combo Document (from combos collection):
{
    "_id": "5f84d5b1b9b7e4206485ab49",
    "comboName": "Combo1",
    "top": "Black/White Long-Sleeved Top",
    "bottom": "Black Tailored Pants",
    "shoes": "Black Pumps",
    "bag": "Black Clutch",
    "layer": "Black Blazer",
    "tags": ["smart casual", "workwear"]
}


* Wardrobe Document (from wardrobe collection):
{
    "_id": "5f84d5b1b9b7e4206485ab50",
    "top": "Black/White Long-Sleeved Top"
}

* Tag Document (from tags collection):
{
    "_id": "5f84d5b1b9b7e4206485ab51",
    "name": "smart casual"
}

* User Document (from users collection):
{
    "_id": "5f84d5b1b9b7e4206485ab52",
    "email": "user@example.com",
    "password": "hashed_password",
    "favorites": ["5f84d5b1b9b7e4206485ab49"]
}

## Endpoints
GET /combinations
: Retrieve all combos with optional filtering by tags, wardrobe items, or combo name.

Get All Combos:
![Get all combos](images/Screenshot%202024-10-09%20at%2011.48.21%20AM.png)

Get a Specific Combo by comboName:
![Specific combo by comboName](images/Screenshot_2024-10-09_at_11.39.06_AM.png)

Test with Tags
![Test With Tags](images/Screenshot%202024-10-09%20at%201.05.23%20PM.png)

Test by wardrobe categories:
![Test by wardrobe categories](file:///Users/fatimahayuni/Desktop/CapsulifyDB/images/Screenshot%202024-10-09%20at%201.18.30%20PM.png)


GET /combinations/:id
: Retrieve a specific combo by ID.
![retrieveById](file:///Users/fatimahayuni/Desktop/CapsulifyDB/images/Screenshot%202024-10-09%20at%201.23.55%20PM.png)

POST /combinations
: Create a new combo.
![Add a new combo](images/Screenshot%202024-10-09%20at%201.48.19%20PM.png)

PUT /combinations/
: Update an existing combo.
![Update existing combo](images/Screenshot%202024-10-09%20at%201.51.26%20PM.png)

DELETE /combinations/
: Delete a combo.
![Delete a combo](images/Screenshot%202024-10-09%20at%201.52.58%20PM.png)

POST /users
: Register a new user.
![Register a new user](images/Screenshot%202024-10-09%20at%201.55.56%20PM.png)

POST /login: Log in and receive an access token.
![Login](images/Screenshot%202024-10-09%20at%202.07.50%20PM.png)


GET /profile: Retrieve the authenticated user's profile (protected route).
![Profile](images/Screenshot%202024-10-09%20at%203.49.36%20PM.png)


## Running the App
1. Clone the repository.
2. Install dependencies with npm install.
3. Set up the environment variables in a .env file:
4. MONGO_URI: MongoDB connection string.
5. TOKEN_SECRET: Secret key for JWT token generation.
6. Run the app with npm start.